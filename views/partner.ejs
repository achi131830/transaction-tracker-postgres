<!DOCTYPE html>
<html lang="zh-Hant">

<head>
  <meta charset="UTF-8">
  <title>é›™äººå°ˆå€ç³»çµ±</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 30px;
    }

    label {
      display: inline-block;
      width: 100px;
      margin-bottom: 10px;
    }

    input,
    button {
      margin-bottom: 10px;
    }

    .notice {
      padding: 10px;
      background-color: #f0f0f0;
      border-left: 4px solid #888;
      margin-bottom: 20px;
    }

    .success {
      border-color: green;
      color: green;
    }

    .pending {
      border-color: orange;
      color: orange;
    }
  </style>
</head>

<body>
  <h1>æƒ…ä¾¶é…å°</h1>

  <div class="notice">
    ğŸ†” ä½ çš„ IDï¼ˆé‚€è«‹ç¢¼ï¼‰æ˜¯ï¼š<strong>
      <%= userId %>
    </strong><br>
    è«‹å°‡é€™ä¸²è™Ÿç¢¼æä¾›çµ¦å°æ–¹è¼¸å…¥
  </div>

  <% if (!partnerId) { %>
    <form method="POST" action="/partner">
      <label>å°æ–¹ IDï¼š</label>
      <input type="number" name="partnerId" required>
      <br>
      <button type="submit">é€å‡ºé…å°é‚€è«‹</button>
    </form>

    <% } else if (!isMutual) { %>
      <div class="notice pending">
        â³ å·²é€å‡ºé…å°é‚€è«‹ï¼Œç­‰å¾…å°æ–¹ä¹Ÿè¼¸å…¥ä½ çš„ ID...
      </div>

      <% } else { %>
        <div class="notice success">
          âœ… é…å°æˆåŠŸï¼ä½ èˆ‡ç”¨æˆ¶ <strong>
            <%= partnerId %>
          </strong> å·²æˆç‚ºæƒ…ä¾¶ ğŸ‰
        </div>
        <% } %>
          <% if (partnerId) { %>
            <form method="POST" action="/unpair" onsubmit="return confirm('ç¢ºå®šè¦å–æ¶ˆé…å°å—ï¼Ÿ')">
              <button type="submit">âŒ å–æ¶ˆé…å°</button>
            </form>
            <% } %>

              <h2>æ–°å¢ AA åˆ¶äº¤æ˜“</h2>
              <form method="POST" action="/add-aa">
                <label>æ—¥æœŸï¼š</label><input type="date" name="date" required><br>
                <label>èªªæ˜ï¼š</label><input type="text" name="description" required><br>
                <label>ç¸½é‡‘é¡ï¼š</label><input type="number" name="amount" required><br>
                <label>é¡åˆ¥ï¼š</label><input type="text" name="category"><br>
                <button type="submit">é€å‡º AA æ¶ˆè²»ç´€éŒ„</button>
              </form>
              <form method="GET" action="/partner-analysis">
  <input type="hidden" name="from" value="partner">
  <button type="submit">ğŸ“Š æŸ¥çœ‹å…±åŒæ¶ˆè²»åœ“é¤…åœ–</button>
</form>
              <% if (message) { %>
                <div id="success-message"
                  style="background-color: #d4edda; color: #155724; padding: 10px; border-radius: 5px;">
                  <%= message %>
                </div>
                <% } %>


                  <script>
                    setTimeout(() => {
                      const msg = document.getElementById("success-message");
                      if (msg) msg.style.display = "none";
                    }, 2500);
                  </script>





                  <p><a href="/">è¿”å›é¦–é </a></p>
</body>

</html>